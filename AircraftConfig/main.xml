<?xml version="1.0" encoding="UTF-8" ?>

<!-- A3XX Aircraft Config Dialog -->


<PropertyList>

	<name>aircraft-config</name>
	<layout>vbox</layout>
	
	<group>
		<layout>hbox</layout>
		<text>
			<halign>left</halign>
			<label>Aircraft Configuration</label>
		</text>
		<button>
			<halign>right</halign>
			<pref-width>20</pref-width>
			<pref-height>20</pref-height>
			<legend>X</legend>
			<key>Esc</key>
			<binding>
				<command>dialog-close</command>
			</binding>
		</button>
	</group>
	
	<hrule/>
		
	<group>
		<layout>hbox</layout>

		<group>
			<layout>vbox</layout>
			
				<group>
					<layout>vbox</layout>
					
					<button>
						<halign>center</halign>
						<legend>Welcome</legend>
						<pref-width>140</pref-width>
						<binding>
							<command>nasal</command>
							<script>
							acconfig.welcome_dlg.open();
							</script>
						</binding>
					</button>
					<button>
						<halign>center</halign>
						<legend>Fuel Truck Controls</legend>
						<pref-width>140</pref-width>
						<binding>
							<command>nasal</command>
                            <script>
                            var fuel_truck = gui.Dialog.new("sim/gui/dialogs/fuel_truck/dialog", "Aircraft/A320Family/Systems/fuel_truck.xml");
							 fuel_truck.open();
                            </script>
						</binding>
					</button>
					<button>
						<halign>center</halign>
						<legend>Select Livery</legend>
						<pref-width>140</pref-width>
						<binding>
							<command>nasal</command>
							<script>
							aircraft.livery.dialog.toggle();
							</script>
						</binding>
					</button>
					<button>
						<halign>center</halign>
						<legend>Aircraft Tutorial</legend>
						<pref-width>140</pref-width>
						<enable>
							<property>/systems/unused/unusedthing</property>
						</enable>
						<binding>
							<command>nasal</command>
							<script>
							# Blank for now
							</script>
						</binding>
					</button>
				</group>
			
			<group>
				<layout>vbox</layout>
				
				<group>
					<layout>hbox</layout>

					<hrule>
						<stretch type="bool">true</stretch>
					</hrule>
					<text>
						<label>Auto Aircraft Config</label>
					</text>
					<hrule>
						<stretch type="bool">true</stretch>
					</hrule>
				</group>
				
				<group>
					<layout>vbox</layout>
					
					<button>
						<halign>center</halign>
						<legend>Cold and Dark</legend>
						<pref-width>140</pref-width>
						<enable>
							<not><property>/systems/acconfig/autoconfig-running</property></not>
						</enable>
						<binding>
							<command>nasal</command>
							<script>acconfig.colddark();</script>
						</binding>
						<binding>
							<command>dialog-close</command>
						</binding>
					</button>
					<button>
						<halign>center</halign>
						<legend>Ready to Start Eng</legend>
						<pref-width>140</pref-width>
						<enable>
							<not><property>/systems/acconfig/autoconfig-running</property></not>
						</enable>
						<binding>
							<command>nasal</command>
							<script>acconfig.beforestart();</script>
						</binding>
						<binding>
							<command>dialog-close</command>
						</binding>
					</button>
					<button>
						<halign>center</halign>
						<legend>Ready for Taxi</legend>
						<pref-width>140</pref-width>
						<enable>
							<not><property>/systems/acconfig/autoconfig-running</property></not>
						</enable>
						<binding>
							<command>nasal</command>
							<script>acconfig.taxi();</script>
						</binding>
						<binding>
							<command>dialog-close</command>
						</binding>
					</button>
					<button>
						<halign>center</halign>
						<legend>Ready for Takeoff</legend>
						<pref-width>140</pref-width>
						<enable>
							<not><property>/systems/acconfig/autoconfig-running</property></not>
						</enable>
						<binding>
							<command>nasal</command>
							<script>acconfig.takeoff();</script>
						</binding>
						<binding>
							<command>dialog-close</command>
						</binding>
					</button>
				</group>
			</group>
		</group>
		
		<vrule/>
		
		<group>
			<layout>vbox</layout>

			<checkbox>
				<label>Enable De-icing Truck</label>
				<halign>left</halign>
				<property>services/deicing_truck/enable</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>

			<button>
				<legend>De-ice Aircraft</legend>
				<halign>center</halign>
				<padding>5</padding>
				<binding>		
					<command>nasal</command>
					<script>
						if (getprop("services/deicing_truck/enable") == 1) {
							setprop("/services/deicing_truck/de-ice", 1);
							screen.log.write("Starting De-icing Process...", 1, 1, 1);
						} else
							screen.log.write("Please Enable the De-icing truck first", 1, 0, 0);
					</script>
				</binding>
			</button>

			<text>
				<label>Catering Truck</label>
			</text>
	
			<checkbox>
				<label>Enable Catering Truck</label>
				<halign>left</halign>
				<property>services/catering/enable</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>

			
			<hrule/>

			<text>
				<label>Landing Gear Chokes</label>
			</text>
	
		 <group>
			<layout>table</layout>
	
			<text>
				<row>0</row>
				<col>0</col>
				<label>Left Gear</label>
			</text>
	
			<text>
				<row>0</row>
				<col>1</col>
				<label>Nose Gear</label>
			</text>
	
			<text>
				<row>0</row>
				<col>2</col>
				<label>Right Gear</label>
			</text>
	
			<checkbox>
				<row>1</row>
				<col>0</col>
				<property>services/chokes/left</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
	
			<checkbox>
				<row>1</row>
				<col>1</col>
				<property>services/chokes/nose</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
	
			<checkbox>
				<row>1</row>
				<col>2</col>
				<property>services/chokes/right</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
	
		</group>
	
		<hrule/>

			<checkbox>
				<label>Enable Baggage Truck</label>
				<halign>left</halign>
				<property>services/baggage/enable</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>	
			<checkbox>
				<label>Enable External Power Box</label>
				<halign>left</halign>
				<property>/services/ext-pwr/enable</property>
				<binding>
					<command>property-assign</command>
					<property>/controls/electrical/switches/gen-ext</property>
					<value>0</value>
				</binding>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<hrule/>
			
			<checkbox>
				<label>EIS2 Displays</label>
				<halign>left</halign>
				<enable>
					<property>/systems/unused/unusedthing</property>
				</enable>
				<property>/options/EIS2</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<checkbox>
				<label>Skip IRS alignment</label>
				<halign>left</halign>
				<property>/controls/adirs/skip</property>
				<binding>
					<command>property-toggle</command>
					<property>/controls/adirs/skip</property>
				</binding>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<button>
				<legend>FBW Settings</legend>
				<halign>center</halign>
				<padding>5</padding>
				<binding>
					<command>nasal</command>
					<script>
					acconfig.fbw_dlg.open();
					</script>
				</binding>
			</button>
			
		  </group>
	</group>
	
</PropertyList>
